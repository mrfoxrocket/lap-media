---
import { Droplet, Home, RouteIcon as Road, Square, PenToolIcon as Tool, Building, type LucideIcon } from "lucide-react";
import { Card, CardContent } from "@/components/ui/card";

type ServiceIconType = "droplet" | "home" | "road" | "square" | "tool" | "building";

interface ServiceCardProps {
    title: string;
    description: string;
    icon: ServiceIconType;
    imageSrc: string;
    accentColor: string;
}

const props = Astro.props as ServiceCardProps;

const { title, description, icon, imageSrc, accentColor } = props;

const IconComponent: Record<ServiceIconType, LucideIcon> = {
    droplet: Droplet,
    home: Home,
    road: Road,
    square: Square,
    tool: Tool,
    building: Building,
};

const Icon = IconComponent[icon];
---

<Card className="group overflow-hidden border-0 shadow-lg hover:shadow-xl transition-shadow duration-300">
    <CardContent className="p-0">
        <div class="relative h-48 overflow-hidden">
            <div class={`absolute inset-0 bg-linear-to-r ${accentColor} opacity-80 z-10`}></div>
            <img
                src={imageSrc || "/placeholder.svg"}
                width={300}
                height={200}
                class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
            />
            <div
                class="absolute top-4 left-4 z-20 bg-white/20 backdrop-blur-xs rounded-full p-2 border border-white/30"
            >
                <Icon className="h-6 w-6 text-white" />
            </div>
        </div>
        <div class="p-6">
            <h3 class="text-xl font-bold mb-2">{title}</h3>
            <p class="text-muted-foreground mb-4">{description}</p>
            <a href="#contact" class="inline-flex items-center text-sm font-medium text-primary hover:underline">
                Learn more
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4 ml-1 transition-transform group-hover:translate-x-1"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width={2} d="M9 5l7 7-7 7"></path>
                </svg>
            </a>
        </div>
    </CardContent>
</Card>
